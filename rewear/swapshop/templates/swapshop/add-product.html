{% extends 'swapshop/base.html' %}

{% block contant%}

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light px-4">
  <a class="navbar-brand" href="/swapshop/index/">ReWear</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item"><a class="nav-link" href="/swapshop/addproduct/">Add New Product</a></li>
      <li class="nav-item"><a class="nav-link" href="/swapshop/login/">Login</a></li>
      <li class="nav-item"><a class="nav-link" href="/swapshop/register/">Sign Up</a></li>
    </ul>
  </div>
</nav>

<!-- Add Item Form -->
<div class="container my-5">
  <div class="form-section">
    <h3 class="mb-4">List a New Clothing Item</h3>
    <form id="addItemForm">
      <div class="mb-3">
        <label for="images" class="form-label">Upload Images</label>
        <input type="file" class="form-control" id="images" multiple accept="image/*">
        <div class="row mt-3" id="previewContainer"></div>
      </div>

      <div class="mb-3">
        <label class="form-label">Title</label>
        <input type="text" class="form-control" placeholder="e.g., Vintage Denim Jacket" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea class="form-control" rows="3"
          placeholder="Describe the condition, material, and any important notes..." required></textarea>
      </div>

      <div class="row">
        <div class="col-md-4 mb-3">
          <label class="form-label">Category</label>
          <select class="form-select">
            <option>Men</option>
            <option>Women</option>
            <option>Kids</option>
            <option>Accessories</option>
          </select>
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">Type</label>
          <input type="text" class="form-control" placeholder="e.g., Jacket, Shirt" required>
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">Size</label>
          <input type="text" class="form-control" placeholder="e.g., M, L, XL" required>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Condition</label>
          <select class="form-select">
            <option>Like New</option>
            <option>Gently Used</option>
            <option>Fair</option>
          </select>
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">Tags (comma-separated)</label>
          <input type="text" class="form-control" placeholder="e.g., casual, cotton, winter" required>
        </div>
      </div>

      <button type="submit" class="btn btn-success w-100 mt-3"><a href="/swapshop/dashboard/"> Submit Item</a></button>
    </form>
  </div>
</div>

<!-- Preview Script -->
<script>
  const imagesInput = document.getElementById(' images'); const
    previewContainer = document.getElementById('previewContainer'); imagesInput.addEventListener('change',
      function () {
        previewContainer.innerHTML = "";[...this.files].forEach(file => {
          const reader = new FileReader();
          reader.onload = function (e) {
            const col = document.createElement('div');
            col.className = 'col-4 col-md-3 mb-2';
            col.innerHTML = `<img src="${e.target.result}" class="image-preview w-100" alt="Preview">`;
            previewContainer.appendChild(col);
          };
          reader.readAsDataURL(file);
        });
      });

  document.getElementById('addItemForm').addEventListener('submit', function (e) {
    e.preventDefault();
    alert("Item submitted successfully!");
    // Redirect or clear form if needed
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock contant%}